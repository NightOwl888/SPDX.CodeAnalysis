{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  // test defaults
  "extends": [
     "config:recommended",
     ":dependencyDashboard",
     ":prConcurrentLimitNone",
     ":prHourlyLimitNone"
  ],

{
  "extends": ["config:base"],
  "schedule": ["at any time"],          // instead of "before 3am on Monday"
  "prHourlyLimit": 0,                   // unlimited during tests
  "prConcurrentLimit": 0
}

  "enabledManagers": ["nuget", "github-actions"],

  // ðŸ‘‡ Default strategy for NuGet: bump the lower bound of ranges
  "rangeStrategy": "bump",

  // Weekly PRs only
  "schedule": ["at any time"],

  "packageRules": [
    // --- Group 1: Test dependencies ---
    {
      "groupName": "Test dependencies",
      "matchPackageNames": [
        "NUnit",
        "NUnit3TestAdapter",
        "Microsoft.NET.Test.Sdk"
      ],
      "labels": ["dependencies", "test-deps"]
    },

    // --- Group 2: Roslyn packages ---
    {
      "groupName": "Roslyn dependencies",
      "matchPackagePatterns": ["^Microsoft\\.CodeAnalysis"],
      "labels": ["dependencies", "roslyn"]
    },

    // --- Exclude manual packages ---
    {
      "matchPackageNames": ["Microsoft.VSSDK.BuildTools"],
      "enabled": false,
      "labels": ["dependencies", "manual-upgrade"]
    },

    // --- Analyzer dependencies (bump to latest) ---
    {
      "matchPackagePatterns": ["Analyzer"],
      "updateTypes": ["minor", "patch", "major"],
      "labels": ["dependencies", "analyzers"]
    },

    // --- GitHub Actions: ASF-compliant mode ---
    {
      "matchManagers": ["github-actions"],
      "pinDigests": true,             // rewrite to commit SHA
      "rangeStrategy": "pin",         // no floating versions
      "commitMessageTopic": "GitHub Action {{depName}}",
      "labels": ["dependencies", "ci"]
    }
  ],

  // Branch policy
  "baseBranches": ["main"],

  // ASF-safe: no automerge
  "automerge": false
}

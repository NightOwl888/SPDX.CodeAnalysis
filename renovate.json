{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",

  "_comment_test_defaults": "ASF-friendly base, loosened for testing",
  "extends": [
     "config:base",
     ":dependencyDashboard",
     ":prConcurrentLimitNone",
     ":prHourlyLimitNone"
  ],

  "enabledManagers": ["nuget", "github-actions"],

  "_comment_rangeStrategy": "Default for NuGet: bump lower bound of ranges",
  "rangeStrategy": "bump",

  "_comment_schedule": "During testing: run at any time (not weekly only)",
  "schedule": ["at any time"],

  "packageRules": [
    {
      "_comment": "Group 1: Test dependencies",
      "groupName": "Test dependencies",
      "matchPackageNames": [
        "NUnit",
        "NUnit3TestAdapter",
        "Microsoft.NET.Test.Sdk"
      ],
      "labels": ["dependencies", "test-deps"]
    },

    {
      "_comment": "Group 2: Roslyn packages",
      "groupName": "Roslyn dependencies",
      "matchPackagePatterns": ["^Microsoft\\.CodeAnalysis"],
      "labels": ["dependencies", "roslyn"]
    },

    {
      "_comment": "Exclude manual packages (leave for manual bumping)",
      "matchPackageNames": ["Microsoft.VSSDK.BuildTools"],
      "enabled": false,
      "labels": ["dependencies", "manual-upgrade"]
    },

    {
      "_comment": "Analyzer dependencies: always bump to latest",
      "matchPackagePatterns": ["Analyzer"],
      "updateTypes": ["minor", "patch", "major"],
      "labels": ["dependencies", "analyzers"]
    },

    {
      "_comment": "GitHub Actions: ASF-compliant mode (pin to commit SHA)",
      "matchManagers": ["github-actions"],
      "pinDigests": true,
      "rangeStrategy": "pin",
      "commitMessageTopic": "GitHub Action {{depName}}",
      "labels": ["dependencies", "ci"]
    }
  ],

  "_comment_branch_policy": "Only update main branch",
  "baseBranches": ["main"],

  "_comment_automerge": "ASF-safe: never automerge",
  "automerge": false
}
